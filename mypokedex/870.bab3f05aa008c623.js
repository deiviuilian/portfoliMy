"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[870],{1870:(R,H,g)=>{g.r(H),g.d(H,{HomePage:()=>I});var f,S=g(467),u=g(2881),k=g(9417),e=g(547),C=function(s,n){var t=function(){if(typeof window>"u")return new Map;if(!f){var s=window;s.Ionicons=s.Ionicons||{},f=s.Ionicons.map=s.Ionicons.map||new Map}return f}(),a=t.get(s);void 0===a?t.set(s,n):a!==n&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(s,'". Ensure that multiple icons are not mapped to the same icon name.'))},o=g(1360),_=g(2587);let P=(()=>{var s;class n{constructor(){this.storageKey="favorites"}getFavorites(){const a=localStorage.getItem(this.storageKey);return a?JSON.parse(a):[]}isFavorite(a){return this.getFavorites().some(i=>i.id===a)}addFavorite(a){const i=this.getFavorites();this.isFavorite(a.id)||(i.push(a),localStorage.setItem(this.storageKey,JSON.stringify(i)))}removeFavorite(a){let i=this.getFavorites();i=i.filter(l=>l.id!==a),localStorage.setItem(this.storageKey,JSON.stringify(i))}}return(s=n).\u0275fac=function(a){return new(a||s)},s.\u0275prov=o.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),n})();var s,D=g(5367);function U(s,n){if(1&s&&(o.j41(0,"ion-chip",28),o.EFF(1),o.nI1(2,"titlecase"),o.k0s()),2&s){const t=n.$implicit,a=o.XpG(2);o.Y8G("ngClass",a.getChipColor(t)),o.R7$(),o.SpI(" ",o.bMT(2,2,t)," ")}}function T(s,n){if(1&s){const t=o.RV6();o.j41(0,"ion-item",22),o.bIt("click",function(){const i=o.eBV(t).$implicit,l=o.XpG();return o.Njj(l.goToDetail(i))}),o.j41(1,"ion-thumbnail",23),o.nrm(2,"img",24),o.k0s(),o.j41(3,"ion-label")(4,"h2"),o.EFF(5),o.nI1(6,"titlecase"),o.k0s(),o.DNE(7,U,3,4,"ion-chip",25),o.k0s(),o.j41(8,"ion-button",26),o.bIt("click",function(i){const l=o.eBV(t).$implicit;return o.XpG().toggleFavorite(l),o.Njj(i.stopPropagation())}),o.nrm(9,"ion-icon",27),o.k0s()()}if(2&s){const t=n.$implicit,a=o.XpG();o.R7$(2),o.Y8G("src",t.imageUrl,o.B4B),o.R7$(3),o.Lme("#",t.id," - ",o.bMT(6,5,t.name),""),o.R7$(2),o.Y8G("ngForOf",t.types),o.R7$(2),o.Y8G("name",a.isFavorite(t)?"heart":"heart-outline")}}s={heart:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>","heart-outline":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>","swap-vertical":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M464 208L352 96 240 208M352 113.13V416M48 304l112 112 112-112M160 398V96' class='ionicon-fill-none ionicon-stroke-width'/></svg>"},Object.keys(s).forEach(function(n){C(n,s[n]);var t=n.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();n!==t&&C(t,s[n])});let I=(()=>{var s;class n{constructor(a,i,l,c){this.pokemonService=a,this.favoritesService=i,this.router=l,this.loadingCtrl=c,this.pokemons=[],this.page=0,this.pageSize=100,this.loading=!1,this.filteredPokemons=[],this.searchTerm="",this.sortBy="id",this.sortAscending=!0,this.sortOrder="asc",this.currentSort="id"}ngOnInit(){this.loadPokemons(),setTimeout(()=>{console.log("Pokemons:",this.pokemons.length),console.log("Filtrados:",this.filteredPokemons.length)},3e3)}loadPokemons(a){var i=this;return(0,S.A)(function*(){if(i.loading)return;i.loading=!0;const l=yield i.loadingCtrl.create({message:"Carregando Pok\xe9mons...",duration:3e3,spinner:"dots"});yield l.present(),i.pokemonService.getPokemons(i.pageSize,i.page*i.pageSize).subscribe({next:c=>{i.pokemons=[...i.pokemons,...c],setTimeout(()=>{i.filterPokemons(),console.log("Pokemons carregados:",i.pokemons),console.log("Filtrados:",i.filteredPokemons)},0),i.page++,i.loading=!1,l.dismiss(),a&&a.target.complete()},error:()=>{i.loading=!1,l.dismiss(),a&&a.target.complete()}})})()}goToDetail(a){this.router.navigate(["/pokemon-detail",a.id])}toggleFavorite(a){this.favoritesService.isFavorite(a.id)?this.favoritesService.removeFavorite(a.id):this.favoritesService.addFavorite(a)}isFavorite(a){return this.favoritesService.isFavorite(a.id)}filterPokemons(){const a=this.searchTerm.toLowerCase();this.filteredPokemons=this.pokemons.filter(i=>{var l;const c=i.name.toLowerCase().includes(a),r=i.id.toString().includes(a),w=null===(l=i.types)||void 0===l?void 0:l.some(h=>h.toLowerCase().includes(a));return c||r||w}),this.currentSort&&this.sortPokemons(this.currentSort)}onSortChange(a){const i=a.detail.value;"string"==typeof i&&(this.currentSort=i,this.sortPokemons(this.currentSort))}toggleSortOrder(){this.sortOrder="asc"===this.sortOrder?"desc":"asc",this.currentSort&&this.sortPokemons(this.currentSort)}sortPokemons(a){this.filteredPokemons.sort((i,l)=>{var c,r,w,h,p,x;let d,m;switch(a){case"name":d=i.name.toLowerCase(),m=l.name.toLowerCase();break;case"id":d=i.id,m=l.id;break;case"attack":d=(null===(c=i.stats)||void 0===c||null===(c=c.find(v=>"attack"===v.name))||void 0===c?void 0:c.value)||0,m=(null===(r=l.stats)||void 0===r||null===(r=r.find(v=>"attack"===v.name))||void 0===r?void 0:r.value)||0;break;case"speed":d=(null===(w=i.stats)||void 0===w||null===(w=w.find(v=>"speed"===v.name))||void 0===w?void 0:w.value)||0,m=(null===(h=l.stats)||void 0===h||null===(h=h.find(v=>"speed"===v.name))||void 0===h?void 0:h.value)||0;break;case"defense":d=(null===(p=i.stats)||void 0===p||null===(p=p.find(v=>"defense"===v.name))||void 0===p?void 0:p.value)||0,m=(null===(x=l.stats)||void 0===x||null===(x=x.find(v=>"defense"===v.name))||void 0===x?void 0:x.value)||0}let z=0;return d>m&&(z=1),d<m&&(z=-1),"asc"===this.sortOrder?z:-z})}getFormattedTypes(a){return a.types&&0!==a.types.length?a.types.map(i=>this.capitalize(i)).join(", "):"Tipo desconhecido"}capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)}getChipColor(a){switch(a.toLowerCase()){case"grass":return"grass-chip";case"fire":return"fire-chip";case"water":return"water-chip";case"electric":return"electric-chip";case"psychic":return"psychic-chip";case"fighting":return"fighting-chip";case"rock":return"rock-chip";case"poison":return"poison-chip";case"dark":return"dark-chip";case"ghost":return"ghost-chip";case"flying":return"flying-chip";case"ice":return"ice-chip";case"steel":return"steel-chip";case"dragon":return"dragon-chip";case"fairy":return"fairy-chip";case"ground":return"ground-chip";case"bug":return"bug-chip";default:return"default-chip"}}}return(s=n).\u0275fac=function(a){return new(a||s)(o.rXU(_.R),o.rXU(P),o.rXU(D.Ix),o.rXU(e.Xi))},s.\u0275cmp=o.VBU({type:s,selectors:[["app-home"]],decls:36,vars:5,consts:[[1,"divlogo"],[1,"rowlogo"],[1,"logo"],["src","assets/imgs/logo.png","alt","Logo",2,"height","30px","vertical-align","middle","margin-left","4px"],[1,"ion-align-self-center"],["fill","outline","size","small",3,"click"],["placeholder","Buscar Pok\xe9mon...",3,"ngModelChange","ionInput","ngModel"],[3,"ngModelChange","ionChange","ngModel"],["value","id"],["value","name"],["value","attack"],["value","defense"],["value","speed"],[3,"fullscreen"],["lines","full","detail","false",3,"click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Carregando..."],[1,"ion-padding","ion-text-center"],[1,"footertoolbar"],[1,"footer-text__source"],["target","_blank","href","https://www.deividimarangoni.wuaze.com",2,"vertical-align","middle"],["src","assets/imgs/logodedev.png","alt","Logo",2,"height","24px","margin-left","4px"],["lines","full","detail","false",3,"click"],["slot","start"],[3,"src"],[3,"ngClass",4,"ngFor","ngForOf"],["slot","end","fill","clear","aria-label","Favoritar",3,"click"],["slot","icon-only",3,"name"],[3,"ngClass"]],template:function(a,i){1&a&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-row",1)(3,"ion-title",2),o.nrm(4,"img",3),o.k0s(),o.j41(5,"ion-col",4)(6,"ion-button",5),o.bIt("click",function(){return i.toggleSortOrder()}),o.EFF(7),o.k0s()()()(),o.j41(8,"ion-toolbar")(9,"ion-grid")(10,"ion-row")(11,"ion-col")(12,"ion-searchbar",6),o.mxI("ngModelChange",function(c){return o.DH7(i.searchTerm,c)||(i.searchTerm=c),c}),o.bIt("ionInput",function(){return i.filterPokemons()}),o.k0s()(),o.j41(13,"ion-col")(14,"ion-segment",7),o.mxI("ngModelChange",function(c){return o.DH7(i.currentSort,c)||(i.currentSort=c),c}),o.bIt("ionChange",function(c){return i.onSortChange(c)}),o.j41(15,"ion-segment-button",8),o.EFF(16," ID "),o.k0s(),o.j41(17,"ion-segment-button",9),o.EFF(18," NOME "),o.k0s(),o.j41(19,"ion-segment-button",10),o.EFF(20," ATK "),o.k0s(),o.j41(21,"ion-segment-button",11),o.EFF(22," DEF "),o.k0s(),o.j41(23,"ion-segment-button",12),o.EFF(24," AGI "),o.k0s()()()()()()(),o.j41(25,"ion-content",13)(26,"ion-list"),o.DNE(27,T,10,7,"ion-item",14),o.k0s(),o.j41(28,"ion-infinite-scroll",15),o.bIt("ionInfinite",function(c){return i.loadPokemons(c)}),o.nrm(29,"ion-infinite-scroll-content",16),o.k0s(),o.j41(30,"ion-footer",17)(31,"ion-toolbar",18)(32,"ion-text",19),o.EFF(33," MyPokedex desenvolvido por "),o.j41(34,"a",20),o.nrm(35,"img",21),o.k0s()()()()()),2&a&&(o.R7$(7),o.SpI(" ","asc"===i.sortOrder?"Asc \u2191":"Desc \u2193"," "),o.R7$(5),o.R50("ngModel",i.searchTerm),o.R7$(2),o.R50("ngModel",i.currentSort),o.R7$(11),o.Y8G("fullscreen",!0),o.R7$(2),o.Y8G("ngForOf",i.filteredPokemons))},dependencies:[u.MD,u.YU,u.Sq,u.PV,k.YN,k.BC,k.vS,e.W9,e.eU,e.BC,e.ai,e.nf,e.uz,e.he,e.Zx,e.S1,e.Jm,e.iq,e.ZB,e.Ax,e.Hp,e.ln,e.hU,e.lO,e.Gp,e.eP,e.M0,e.IO],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.grass-chip[_ngcontent-%COMP%]{--color: white;--background: #007502}.bug-chip[_ngcontent-%COMP%]{--color: white;--background: #9baf1a}.fire-chip[_ngcontent-%COMP%]{--color: white;--background: #ff3b10}.ground-chip[_ngcontent-%COMP%]{--color: white;--background: #8a3f22}.water-chip[_ngcontent-%COMP%]{--color: white;--background: #1098d6}.flying-chip[_ngcontent-%COMP%]{--color: white;--background: #819de6}.electric-chip[_ngcontent-%COMP%]{--color: black;--background: #fac841}.psychic-chip[_ngcontent-%COMP%]{--color: white;--background: #ce5179}.default-chip[_ngcontent-%COMP%]{--background: #c9c5c2;--color: black}.poison-chip[_ngcontent-%COMP%]{--background: #82467c;--color: white}.fighting-chip[_ngcontent-%COMP%]{--background: #8a3f22;--color: white}.rock-chip[_ngcontent-%COMP%]{--background: #c6b076;--color: white}.dark-chip[_ngcontent-%COMP%]{--background: #514030;--color: white}.ghost-chip[_ngcontent-%COMP%]{--background: #5e5ea4;--color: white}.ice-chip[_ngcontent-%COMP%]{--background: #74e4fc;--color: white}.steel-chip[_ngcontent-%COMP%]{--background: #b3b3bf;--color: white}.dragon-chip[_ngcontent-%COMP%]{--background: #7b64cc;--color: white}.fairy-chip[_ngcontent-%COMP%]{--background: #f2b2ee;--color: white}ion-button[_ngcontent-%COMP%]{color:red}ion-list[_ngcontent-%COMP%]{cursor:pointer}ion-footer[_ngcontent-%COMP%]{position:fixed;bottom:-9px;width:100%;color:#fff;text-align:center;font-size:calc(.5em + .5vw);z-index:1058;padding:0;display:flex;justify-content:center}.footertoolbar[_ngcontent-%COMP%]{--background:#999999 !important}ion-segment-button[_ngcontent-%COMP%]{min-height:5px!important;min-width:60px!important;height:40px}ion-col[_ngcontent-%COMP%]{margin-bottom:40px}.ion-align-self-center[_ngcontent-%COMP%]{margin-top:0;text-align:center;margin-bottom:0}.logo[_ngcontent-%COMP%]{padding-inline-end:0px}.divlogo[_ngcontent-%COMP%]{height:45px}.rowlogo[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}ion-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;align-items:center}"]}),n})()}}]);